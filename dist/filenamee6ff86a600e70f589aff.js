(()=>{"use strict";const t=document.querySelector(".body"),e=document.createElement("div"),n=document.createElement("div"),d=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div");let l,a;function r(t){const n=document.createElement("button");n.classList.add("btn"),n.textContent=t,e.appendChild(n)}function c(t){const e=document.createElement("div"),d=document.createElement("div"),s=document.createElement("div");e.classList.add(t),d.classList.add(`${t}__title`),s.classList.add(`${t}__text`),d.textContent=t,n.appendChild(e),e.appendChild(d),e.appendChild(s)}function m(t){const e=document.createElement("div");e.classList.add(t),e.textContent=t,i.appendChild(e)}e.classList.add("buttons"),t.appendChild(e),n.classList.add("stats"),t.appendChild(n),d.classList.add("tiles"),t.appendChild(d),s.classList.add("sizes"),t.appendChild(s),r("start"),r("stop"),r("save"),r("results"),c("moves"),c("time"),function(t){let e=0,n=0;l=[];for(let t=0;t<16;t++)l.push(t);let s=l.concat();a=s.sort((()=>Math.random()-.5));for(let t=0;t<16;t++){const s=document.createElement("div");s.classList.add("tile"),s.textContent=a[t],s.style.top=n+"px",s.style.left=e+"px",e+=100,0==s.textContent&&(s.style.fontSize=0),d.appendChild(s),(t+1)%4==0&&0!==t&&(e=0,n+=100)}}(),o.textContent="Frame size",i.textContent="Other sizes",o.classList.add("frame-size"),i.classList.add("other-size"),s.appendChild(o),s.appendChild(i),m("3x3"),m("4x4"),m("5x5"),m("6x6"),m("7x7"),m("8x8"),function(t){const e=document.createElement("div");e.classList.add("current-size"),e.textContent="4x4",o.appendChild(e)}(),function(){let t,e={};const n=document.querySelectorAll(".tile"),d=Array.from(n).find((t=>0==t.textContent));function s(){a.forEach(((t,s)=>{if(t==d.textContent){for(const t in e)e[t]&&e[t].removeAttribute("draggable","true");let t=(Array.from(n).findIndex((t=>t.textContent==a[s-1]))+1)%4==0,d=(Array.from(n).findIndex((t=>t.textContent==a[s+1]))+1)%4==1;t||(e.leftElement=Array.from(n).find((t=>t.textContent==a[s-1]))),d||(e.rightElement=Array.from(n).find((t=>t.textContent==a[s+1]))),e.topElement=Array.from(n).find((t=>t.textContent==a[s-4])),e.bottomElement=Array.from(n).find((t=>t.textContent==a[s+4]));for(const t in e)e[t]&&e[t].setAttribute("draggable","true")}}))}function o(){t=this,this.classList.add("active")}function i(t){this==d&&t.preventDefault()}function r(){const e=t.style.left,n=t.style.top,o=d.style.left,i=d.style.top,r=a.indexOf(Number(t.textContent)),c=a.indexOf(Number(d.textContent));a.splice(r,1,Number(d.textContent)),a.splice(c,1,Number(t.textContent)),t.style.left=o,t.style.top=i,d.style.left=e,d.style.top=n,t.classList.remove("active"),s(),l.slice(1).toString()==a.slice(0,-1).toString()&&console.log("Game is finished")}s(),n.forEach((t=>{t.addEventListener("dragstart",o),t.addEventListener("dragover",i),t.addEventListener("drop",r)}))}()})();